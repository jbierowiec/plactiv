{% extends "base.html" %} {% block title %}Elevation Profiles{% endblock %} {%
block content %}
<div class="container" style="max-width: 900px; padding: 1.25rem 0">
  <h1>Elevation Profiles</h1>
  <p class="text-muted">
    Upload one or more <code>.gpx</code> files. Weâ€™ll generate a PNG elevation
    profile and a CSV with per-segment details (distance, elevation, grade %,
    difficulty).
  </p>

  <form
    action="{{ url_for('elevation') }}"
    method="POST"
    enctype="multipart/form-data"
    class="mt-3"
  >
    <div class="mb-3">
      <label for="gpx_files" class="form-label">GPX files</label>
      <input
        class="form-control"
        id="gpx_files"
        name="gpx_files"
        type="file"
        accept=".gpx"
        multiple
        required
      />
      <div class="form-text">You can select one or many GPX files.</div>
    </div>

    <div class="row g-3">
      <div class="col-md-4">
        <label class="form-label" for="smooth_window"
          >Smoothing window (points)</label
        >
        <input
          class="form-control"
          id="smooth_window"
          name="smooth_window"
          type="number"
          min="1"
          step="1"
          value="5"
        />
      </div>
      <div class="col-md-4">
        <label class="form-label" for="units">Units</label>
        <select id="units" name="units" class="form-select">
          <option value="imperial" selected>Imperial (mi, ft)</option>
          <option value="metric">Metric (km, m)</option>
        </select>
      </div>
      <div class="col-md-4 d-flex align-items-end">
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            value="1"
            id="make_combined_plot"
            name="make_combined_plot"
            checked
          />
          <label class="form-check-label" for="make_combined_plot">
            Also create one combined plot
          </label>
        </div>
      </div>
    </div>

    <div class="mt-4">
      <button class="btn btn-primary" type="submit">Generate</button>
      <a class="btn btn-outline-secondary ms-2" href="{{ url_for('landing') }}"
        >Back</a
      >
    </div>
  </form>

  {% if error %}
  <div class="alert alert-danger mt-4">{{ error }}</div>
  {% endif %} {% if message %}
  <div class="alert alert-info mt-4">{{ message }}</div>
  {% endif %}
</div>
{% endblock %}
